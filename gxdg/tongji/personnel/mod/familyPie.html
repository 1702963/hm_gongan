<script>

var FChart = echarts.init(document.getElementById('familyPie'));
var optionD = {
	title:{
		text:'',
		textStyle:{
			color:'#ffffff'
		},
	},
	tooltip: {
		trigger: 'item',
		formatter: '{a} <br/>{b}: {c} ({d}%)'
	},
	legend: {
		orient: 'horizontal',
	//	right: 40,           
		top: 'bottom', 
		padding:[0,0,0,0],
		textStyle: {
			fontSize: 12,
			color: '#ffffff'
		},
		itemWidth: 12,
		itemHeight: 12,
		itemGap:20
	},
	series: [
		{
			name: '需紧急联系人数',
			type: 'pie',
			radius: ['50%', '70%'],  // 环形图内外半径
			center: ['50%', '50%'],  // 图表中心位置（左移以给右侧标签留出空间）
			avoidLabelOverlap: false,
			itemStyle: {
				borderRadius: 8,
			},
			// 扇区上显示百分比
			label: {
				show: true,
				position: 'outside',  // 显示在扇区内部
				formatter: '{b}\n{c}人({d}%)',   // 显示百分比
				fontSize: 12,
				fontWeight: '500',
				color:'#ffffff'
			},
			// 隐藏标签连接线（因为文字在扇区内）
			labelLine: {
				show: true,
				length: 10,
				length2: 10,
				lineStyle: {
					width: 1
				}
			},
			emphasis: {
				label: {
					show: false,
					fontSize: 16,
					fontWeight: 'bold'
				}
			},
			data: [
				{ value: 15, name: '20岁' },
				{ value: 40, name: '30岁' },
				{ value: 25, name: '40岁' },
				{ value: 12, name: '50岁以上' }
			]
		}
	],
	graphic:{
		type:'text',
		left:125,
		top:140,
		style:{
			text:'',
			textAlign:'center',
			fill:'#ffffff',
			fontSize:16
		}
	},
	color: [
		'#8884d8',  // 未知 - 紫色
		'#52c41a',  // 健康 - 绿色
		'#faad14',  // 亚健康 - 黄色
		'#f5222d',  // 疾病 - 红色
		'#1890ff'   // 其他 - 蓝色
	]
};
FChart.setOption(optionD);
// 监听窗口大小变化，重绘图表
window.addEventListener('resize', function() {
  FChart.resize();
});
</script>